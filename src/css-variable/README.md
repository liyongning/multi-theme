## CSS 变量

Sass 变量的方案虽然提升了可维护性和可扩展性，但是却导致另外一个问题，组件库丢失了样式按需打包的能力。

而丢失的原因是因为主题切换发生在运行时，但是组件库的样式却需要在编译期将 Sass 编译为 CSS，两者具有不同的运行时段，所以结合起来使用就导致无法使用组件库样式的按需打包。

这时候就需要想有没有什么办法能让两者发生在同一时刻，比如都发生在运行时或编译时，可惜编译时暂时还没什么好的方案，但是运行时可以使用 CSS 变量的方式。

CSS 变量是 CSS 的新功能，可以简单理解为原生支持像 Sass、Less 语言的变量能力，从 2017 年 3 月份之后，所有主要浏览器已经都支持了 CSS 变量。

所以这里的方案就是 CSS 变量，将所有主题样式抽离到独立的主题样式文件中，然后在运行时通过 JavaScript 动态替换 link 标签。

## CSS 变量基本使用

```css
/* 最佳实践是将样式变量定义在根伪类 :root 下，这样就可以在 HTML 文档的任何地方访问到定义的样式变量了，相当于全局作用域 */
:root {
	--backgroundColor: red;
}

.div-ele {
	/* 通过 var 函数来获取指定变量的值 */
	background-color: var(--backgroundColor);
}
```